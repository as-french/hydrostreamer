<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Estimate runoff in river reaches 
  
Estimates runoff in individual segments of a river network represented as 
either <code>sf LINESTRING</code> or <code>sf POLYGON</code> objects. Allows use of 
simple Area Weighted Interpolation, Area-to-line interpolation, Dasymetric
Mapping, Pycnophylactic Interpolation, or combined Pycnophylactic-Dasymetric
Interpolation. — interpolate_runoff • hydrostreamer</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Estimate runoff in river reaches 
  
Estimates runoff in individual segments of a river network represented as 
either <code>sf LINESTRING</code> or <code>sf POLYGON</code> objects. Allows use of 
simple Area Weighted Interpolation, Area-to-line interpolation, Dasymetric
Mapping, Pycnophylactic Interpolation, or combined Pycnophylactic-Dasymetric
Interpolation. — interpolate_runoff" />
<meta property="og:description" content="The river network can be any of three options: 1) a river network consisting
of LINESTRINGs, in which case Area-to-Line interpolation is used. 2) A 
network of POLYGONs, in which case Areal Interpolation (AWI, DM, or PP) 
is used. 3) both LINESTRING river network, and a POLYGON network describing 
the catchments of each individual segment of the LINESTRING network. In this 
case, Areal Interpolation is used. The third option is useful for routing 
purposes. If only catchments are given, only instantaneous routing can be 
used, because river line length cannot be derived from polygon areas." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hydrostreamer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/hydrostreamer_simple_tutorial.html">hydrostreamer tutorial</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mkkallio/hydrostreamer/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate runoff in river reaches 
  
Estimates runoff in individual segments of a river network represented as 
either <code>sf LINESTRING</code> or <code>sf POLYGON</code> objects. Allows use of 
simple Area Weighted Interpolation, Area-to-line interpolation, Dasymetric
Mapping, Pycnophylactic Interpolation, or combined Pycnophylactic-Dasymetric
Interpolation.</h1>
    <small class="dont-index">Source: <a href='https://github.com/mkkallio/hydrostreamer/blob/master/R/interpolate_runoff.R'><code>R/interpolate_runoff.R</code></a></small>
    <div class="hidden name"><code>interpolate_runoff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The river network can be any of three options: 1) a river network consisting
of LINESTRINGs, in which case Area-to-Line interpolation is used. 2) A 
network of POLYGONs, in which case Areal Interpolation (AWI, DM, or PP) 
is used. 3) both LINESTRING river network, and a POLYGON network describing 
the catchments of each individual segment of the LINESTRING network. In this 
case, Areal Interpolation is used. The third option is useful for routing 
purposes. If only catchments are given, only instantaneous routing can be 
used, because river line length cannot be derived from polygon areas.</p>
    </div>

    <pre class="usage"><span class='fu'>interpolate_runoff</span>(
  <span class='no'>HS</span>,
  <span class='no'>river</span>,
  <span class='kw'>basins</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>dasymetric</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>pycnophylactic</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>intensive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>aoi</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>riverID</span> <span class='kw'>=</span> <span class='st'>"riverID"</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>HS</th>
      <td><p>A 'HS' object, obtained with <code><a href='raster_to_HS.html'>raster_to_HS</a></code> or 
<code><a href='create_HS.html'>create_HS</a></code>.</p></td>
    </tr>
    <tr>
      <th>river</th>
      <td><p>An 'sf' linestring or polygon feature representing a river 
network</p></td>
    </tr>
    <tr>
      <th>basins</th>
      <td><p>An 'sf' polygon object with corresponding catchments, if river
input is a linestring. Optional.</p></td>
    </tr>
    <tr>
      <th>dasymetric</th>
      <td><p>Column name in <code>river</code> or in <code>basins</code> to be used 
as the ancillary information in dasymetric mapping. If <code>NULL</code> 
(default), no dasymetric mapping is performed.</p></td>
    </tr>
    <tr>
      <th>pycnophylactic</th>
      <td><p>Column in <code>HS</code> to be used as basis in 
pycnophylactic interpolation. If <code>NULL</code>, or if <code><a href='https://rdrr.io/r/base/NULL.html'>is.null(basins)</a></code>,
not performed.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Number of iterations when using pycnophylactic interpolation. 
Default <code>10</code>.</p></td>
    </tr>
    <tr>
      <th>intensive</th>
      <td><p>Whether the pycnophylactic variable is intensive (density,
like runoff in mm), or not (in which case it is extensive, or counts like
runoff in volume).</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>Name of a column in <code>river</code> to be used directly as 
weights. Defaults to <code>NULL</code>. See Details.</p></td>
    </tr>
    <tr>
      <th>aoi</th>
      <td><p>An area of interest ('sf' polygon object) used to intersect 
<code>river</code>. Ignored, if basins provided (in which case, aoi is the union
of <code>basins</code>). Defaults to <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>riverID</th>
      <td><p>A character string which specifies the name of the column in 
<code>river</code> containing unique river network identifiers. Defaults to 
<code>"riverID"</code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Whether or not print progress indicators.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a <code>HS</code> object, containing the following 
  elements:</p><ul>
<li><p><code>riverID</code>. Unique identifier</p></li>
<li><p><code>runoff_ts</code>. Interpolated runoff timeseries at each river 
      reach.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The selection of areal interpolation method is determined by the input to the
function. If <code>dasymetric</code> and <code>pycnophylactic</code> are NULL (default),
simple Area Weighted Interpolation or Area-to-Line Interpolation is used. If
<code>dasymetric</code> variable is given, Dasymetric Mapping is used instead. 
If <code>pycnophylactic</code> is given, the function performs Pycnophylactic 
Interpolation. And if both <code>dasymetric</code> and <code>pycnophylactic</code> are 
given, the function first performs Pycnophylactic Interpolation, which is 
further refined by the given dasymetric variable. Note that pycnophylactic
interpolation is only available for polygon networks. Catchments for 
linestring networks can be estimated using <code><a href='river_voronoi.html'>river_voronoi</a></code>,
allowing pycnophylactic interpolation for line networks.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marko Kallio, Vili Virkki.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


